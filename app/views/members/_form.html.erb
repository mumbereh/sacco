<%= form_with(model: @member, local: true, html: { multipart: true }) do |form| %>
  <% if @member.errors.any? %>
    <div style="color: red">
      <h2><%= pluralize(@member.errors.count, "error") %> prohibited this member from being saved:</h2>
      <ul>
        <% @member.errors.full_messages.each do |message| %>
          <li><%= message %></li>
        <% end %>
      </ul>
    </div>
  <% end %>

  <!-- Personal Information -->
  <div>
    <%= form.label :surname, "Surname" %>
    <%= form.text_field :surname, class: "form-control", required: true %>
  </div>

  <div>
    <%= form.label :given_name, "Given Name" %>
    <%= form.text_field :given_name, class: "form-control", required: true %>
  </div>

  <div>
    <%= form.label :other_name, "Other Name" %>
    <%= form.text_field :other_name, class: "form-control" %>
  </div>

  <div>
    <%= form.label :date_of_birth, "Date of Birth" %>
    <%= form.date_field :date_of_birth, class: "form-control", required: true %>
  </div>

  <div>
    <%= form.label :gender, "Gender" %>
    <%= form.select :gender, ["male", "female", "others"], { prompt: "Select Gender" }, class: "form-control", required: true %>
  </div>

  <div>
    <%= form.label :marital_status, "Marital Status" %>
    <%= form.select :marital_status, ["single", "married", "widow", "widowed", "others"], { prompt: "Select Marital Status" }, class: "form-control", required: true %>
  </div>

  <div>
    <%= form.label :phone, "Phone Number" %>
    <%= form.text_field :phone, class: "form-control", required: true %>
  </div>

  <div>
    <%= form.label :physical_address, "Physical Address" %>
    <%= form.text_area :physical_address, class: "form-control", required: true %>
  </div>

  <div>
    <%= form.label :email, "Email Address" %>
    <%= form.email_field :email, class: "form-control", required: true %>
  </div>

  <div>
    <%= form.label :membership_type, "Membership Type" %>
    <%= form.select :membership_type, ["Share", "Loan"], { prompt: "Select Membership Type" }, class: "form-control", required: true %>
  </div>

  <div>
    <%= form.label :identification_type, "Identification Type" %>
    <%= form.select :identification_type, ["National Id", "Driverâ€™s License", "Passport"], { prompt: "Select ID Type" }, class: "form-control", required: true %>
  </div>

  <div>
    <%= form.label :id_number, "ID Number" %>
    <%= form.text_field :id_number, class: "form-control", required: true %>
  </div>

  <!-- File Attachments -->
  <div>
    <%= form.label :passport_photo, "Passport Photo (JPEG, PNG, max 5MB)" %>
    <%= form.file_field :passport_photo, class: "form-control", accept: "image/png,image/jpg,image/jpeg" %>
    <% if @member.persisted? && @member.passport_photo.attached? %>
      <p>Current photo:</p>
      <%= image_tag @member.passport_photo, width: 100 %>
    <% end %>
  </div>

  <div>
    <%= form.label :id_document_photo, "ID Document (JPEG, PNG, max 5MB)" %>
    <%= form.file_field :id_document_photo, class: "form-control", accept: "image/png,image/jpg,image/jpeg" %>
    <% if @member.persisted? && @member.id_document_photo.attached? %>
      <p>Current ID document:</p>
      <%= image_tag @member.id_document_photo, width: 100 %>
    <% end %>
  </div>

  <!-- Parents Information -->
  <h3>Parents Information</h3>
  <div>
    <%= form.label :mother_name, "Mother's Name" %>
    <%= form.text_field :mother_name, class: "form-control", required: true %>
  </div>
  <div>
    <%= form.label :mother_nationality, "Mother's Nationality" %>
    <%= form.select :mother_nationality, ["Uganda", "Others"], { prompt: "Select Nationality" }, class: "form-control", required: true %>
  </div>
  <div>
    <%= form.label :father_name, "Father's Name" %>
    <%= form.text_field :father_name, class: "form-control", required: true %>
  </div>
  <div>
    <%= form.label :father_nationality, "Father's Nationality" %>
    <%= form.select :father_nationality, ["Uganda", "Others"], { prompt: "Select Nationality" }, class: "form-control", required: true %>
  </div>

  <!-- Next of Kin Information -->
  <h3>Next of Kin Information</h3>
  <div>
    <%= form.label :kin_surname, "Kin's Surname" %>
    <%= form.text_field :kin_surname, class: "form-control", required: true %>
  </div>
  <div>
    <%= form.label :kin_given_name, "Kin's Given Name" %>
    <%= form.text_field :kin_given_name, class: "form-control", required: true %>
  </div>
  <div>
    <%= form.label :kin_other_name, "Kin's Other Name" %>
    <%= form.text_field :kin_other_name, class: "form-control", required: true %>
  </div>
  <div>
    <%= form.label :kin_date_of_birth, "Kin's Date of Birth" %>
    <%= form.date_field :kin_date_of_birth, class: "form-control", required: true %>
  </div>
  <div>
    <%= form.label :kin_gender, "Kin's Gender" %>
    <%= form.select :kin_gender, ["male", "female", "others"], { prompt: "Select Gender" }, class: "form-control", required: true %>
  </div>
  <div>
    <%= form.label :kin_relationship, "Kin's Relationship" %>
    <%= form.text_field :kin_relationship, class: "form-control", required: true %>
  </div>
  <div>
    <%= form.label :kin_phone, "Kin's Phone Number" %>
    <%= form.text_field :kin_phone, class: "form-control", required: true %>
  </div>
  <div>
    <%= form.label :kin_address, "Kin's Address" %>
    <%= form.text_area :kin_address, class: "form-control", required: true %>
  </div>

  <!-- Declaration -->
  <h3>Declaration</h3>
  <div>
    <%= form.label :declaration_name, "Your Name" %>
    <%= form.text_field :declaration_name, class: "form-control", required: true %>
  </div>
  <div>
    <%= form.label :signature, "Your Signature" %>
    <%= form.text_field :signature, class: "form-control", required: true %>
  </div>
  <div>
    <%= form.label :declaration_date, "Date" %>
    <%= form.date_field :declaration_date, class: "form-control", required: true %>
  </div>

  <div>
    <%= form.submit @member.new_record? ? "Create Member" : "Update Member", class: "btn btn-primary" %>
  </div>
<% end %>
